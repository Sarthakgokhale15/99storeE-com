{"ast":null,"code":"import _slicedToArray from\"/Users/sarthakgokhale/Desktop/REACT JS/firechat-01/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{db,auth}from\"../firebase\";import SendMessage from\"./SendMessage\";import SignOut from\"./SignOut\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Chat(){var scroll=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];useEffect(function(){db.collection(\"messages\").orderBy(\"createdAt\").limit(500).onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return doc.data();}));});},[messages]);//this is ne w cooment\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SignOut,{}),/*#__PURE__*/_jsx(\"div\",{className:\"msgs\",children:messages.map(function(_ref){var id=_ref.id,text=_ref.text,photoURL=_ref.photoURL,uid=_ref.uid;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"msg \".concat(uid===auth.currentUser.uid?\"sent\":\"received\"),children:[/*#__PURE__*/_jsx(\"img\",{src:photoURL,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:text})]},id)});})}),/*#__PURE__*/_jsx(SendMessage,{scroll:scroll}),/*#__PURE__*/_jsx(\"div\",{ref:scroll})]});}export default Chat;","map":{"version":3,"sources":["/Users/sarthakgokhale/Desktop/REACT JS/firechat-01/src/components/Chat.js"],"names":["React","useState","useEffect","useRef","db","auth","SendMessage","SignOut","Chat","scroll","messages","setMessages","collection","orderBy","limit","onSnapshot","snapshot","docs","map","doc","data","id","text","photoURL","uid","currentUser"],"mappings":"qIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,EAAT,CAAaC,IAAb,KAAyB,aAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,CACd,GAAMC,CAAAA,MAAM,CAAGN,MAAM,EAArB,CACA,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eACAT,SAAS,CAAC,UAAM,CACdE,EAAE,CAACQ,UAAH,CAAc,UAAd,EACGC,OADH,CACW,WADX,EAEGC,KAFH,CAES,GAFT,EAGGC,UAHH,CAGc,SAACC,QAAD,CAAc,CACxBL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAAlB,CAAD,CAAX,CACD,CALH,EAMD,CAPQ,CAON,CAACV,QAAD,CAPM,CAAT,CASA;AACA,mBACE,oCACE,KAAC,OAAD,IADF,cAEE,YAAK,SAAS,CAAC,MAAf,UACGA,QAAQ,CAACQ,GAAT,CAAa,kBAAGG,CAAAA,EAAH,MAAGA,EAAH,CAAOC,IAAP,MAAOA,IAAP,CAAaC,QAAb,MAAaA,QAAb,CAAuBC,GAAvB,MAAuBA,GAAvB,oBACZ,kCACE,aAEE,SAAS,eACPA,GAAG,GAAKnB,IAAI,CAACoB,WAAL,CAAiBD,GAAzB,CAA+B,MAA/B,CAAwC,UADjC,CAFX,wBAME,YAAK,GAAG,CAAED,QAAV,CAAoB,GAAG,CAAC,EAAxB,EANF,cAOE,mBAAID,IAAJ,EAPF,GACOD,EADP,CADF,EADY,EAAb,CADH,EAFF,cAiBE,KAAC,WAAD,EAAa,MAAM,CAAEZ,MAArB,EAjBF,cAkBE,YAAK,GAAG,CAAEA,MAAV,EAlBF,GADF,CAsBD,CAED,cAAeD,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { db, auth } from \"../firebase\";\nimport SendMessage from \"./SendMessage\";\nimport SignOut from \"./SignOut\";\n\nfunction Chat() {\n  const scroll = useRef();\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    db.collection(\"messages\")\n      .orderBy(\"createdAt\")\n      .limit(500)\n      .onSnapshot((snapshot) => {\n        setMessages(snapshot.docs.map((doc) => doc.data()));\n      });\n  }, [messages]);\n\n  //this is ne w cooment\n  return (\n    <div>\n      <SignOut />\n      <div className=\"msgs\">\n        {messages.map(({ id, text, photoURL, uid }) => (\n          <div>\n            <div\n              key={id}\n              className={`msg ${\n                uid === auth.currentUser.uid ? \"sent\" : \"received\"\n              }`}\n            >\n              <img src={photoURL} alt=\"\" />\n              <p>{text}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n      <SendMessage scroll={scroll} />\n      <div ref={scroll}></div>\n    </div>\n  );\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}