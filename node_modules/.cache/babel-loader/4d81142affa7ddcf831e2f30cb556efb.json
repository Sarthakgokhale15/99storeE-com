{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sarthakgokhale/Desktop/REACT JS/firechat-01/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sarthakgokhale/Desktop/REACT JS/firechat-01/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sarthakgokhale/Desktop/REACT JS/firechat-01/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{db,auth}from\"../firebase\";import firebase from\"firebase\";import{Input,Button}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SendMessage(_ref){var scroll=_ref.scroll;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),msg=_useState2[0],setMsg=_useState2[1];function sendMessage(_x){return _sendMessage.apply(this,arguments);}function _sendMessage(){_sendMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _auth$currentUser,uid,photoURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,photoURL=_auth$currentUser.photoURL;_context.next=4;return db.collection(\"messages\").add({text:msg,photoURL:photoURL,uid:uid,createdAt:firebase.firestore.FieldValue.serverTimestamp()});case 4:setMsg(\"\");scroll.current.scrollIntoView({behavior:\"smooth\"});case 6:case\"end\":return _context.stop();}}},_callee);}));return _sendMessage.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:sendMessage,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sendMsg\",children:[/*#__PURE__*/_jsx(Input,{style:{width:\"78%\",fontSize:\"15px\",fontWeight:\"550\",marginLeft:\"5px\",marginBottom:\"-3px\"},placeholder:\"Message...\",type:\"text\",value:msg,onChange:function onChange(e){return setMsg(e.target.value);}}),/*#__PURE__*/_jsx(Button,{disabled:msg.length===0,style:{width:\"18%\",fontSize:\"15px\",fontWeight:\"550\",margin:\"4px 5% -13px 5%\",maxWidth:\"200px\"},type:\"submit\",children:\"Send\"})]})})});}export default SendMessage;","map":{"version":3,"sources":["/Users/sarthakgokhale/Desktop/REACT JS/firechat-01/src/components/SendMessage.js"],"names":["React","useState","db","auth","firebase","Input","Button","SendMessage","scroll","msg","setMsg","sendMessage","e","preventDefault","currentUser","uid","photoURL","collection","add","text","createdAt","firestore","FieldValue","serverTimestamp","current","scrollIntoView","behavior","width","fontSize","fontWeight","marginLeft","marginBottom","target","value","length","margin","maxWidth"],"mappings":"4YAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,EAAT,CAAaC,IAAb,KAAyB,aAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,mBAA9B,C,wFAEA,QAASC,CAAAA,WAAT,MAAiC,IAAVC,CAAAA,MAAU,MAAVA,MAAU,CAC/B,cAAsBP,QAAQ,CAAC,EAAD,CAA9B,wCAAOQ,GAAP,eAAYC,MAAZ,eAD+B,QAGhBC,CAAAA,WAHgB,6IAG/B,iBAA2BC,CAA3B,qJACEA,CAAC,CAACC,cAAF,GADF,kBAE4BV,IAAI,CAACW,WAFjC,CAEUC,GAFV,mBAEUA,GAFV,CAEeC,QAFf,mBAEeA,QAFf,uBAIQd,CAAAA,EAAE,CAACe,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8B,CAClCC,IAAI,CAAEV,GAD4B,CAElCO,QAAQ,CAARA,QAFkC,CAGlCD,GAAG,CAAHA,GAHkC,CAIlCK,SAAS,CAAEhB,QAAQ,CAACiB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAJuB,CAA9B,CAJR,QAUEb,MAAM,CAAC,EAAD,CAAN,CACAF,MAAM,CAACgB,OAAP,CAAeC,cAAf,CAA8B,CAAEC,QAAQ,CAAE,QAAZ,CAA9B,EAXF,sDAH+B,8CAgB/B,mBACE,kCACE,aAAM,QAAQ,CAAEf,WAAhB,uBACE,aAAK,SAAS,CAAC,SAAf,wBACE,KAAC,KAAD,EACE,KAAK,CAAE,CACLgB,KAAK,CAAE,KADF,CAELC,QAAQ,CAAE,MAFL,CAGLC,UAAU,CAAE,KAHP,CAILC,UAAU,CAAE,KAJP,CAKLC,YAAY,CAAE,MALT,CADT,CAQE,WAAW,CAAC,YARd,CASE,IAAI,CAAC,MATP,CAUE,KAAK,CAAEtB,GAVT,CAWE,QAAQ,CAAE,kBAACG,CAAD,QAAOF,CAAAA,MAAM,CAACE,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAb,EAXZ,EADF,cAcE,KAAC,MAAD,EACE,QAAQ,CAAExB,GAAG,CAACyB,MAAJ,GAAe,CAD3B,CAEE,KAAK,CAAE,CACLP,KAAK,CAAE,KADF,CAELC,QAAQ,CAAE,MAFL,CAGLC,UAAU,CAAE,KAHP,CAILM,MAAM,CAAE,iBAJH,CAKLC,QAAQ,CAAE,OALL,CAFT,CASE,IAAI,CAAC,QATP,kBAdF,GADF,EADF,EADF,CAkCD,CACD,cAAe7B,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { db, auth } from \"../firebase\";\nimport firebase from \"firebase\";\nimport { Input, Button } from \"@material-ui/core\";\n\nfunction SendMessage({ scroll }) {\n  const [msg, setMsg] = useState(\"\");\n\n  async function sendMessage(e) {\n    e.preventDefault();\n    const { uid, photoURL } = auth.currentUser;\n\n    await db.collection(\"messages\").add({\n      text: msg,\n      photoURL,\n      uid,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n    setMsg(\"\");\n    scroll.current.scrollIntoView({ behavior: \"smooth\" });\n  }\n  return (\n    <div>\n      <form onSubmit={sendMessage}>\n        <div className=\"sendMsg\">\n          <Input\n            style={{\n              width: \"78%\",\n              fontSize: \"15px\",\n              fontWeight: \"550\",\n              marginLeft: \"5px\",\n              marginBottom: \"-3px\",\n            }}\n            placeholder=\"Message...\"\n            type=\"text\"\n            value={msg}\n            onChange={(e) => setMsg(e.target.value)}\n          />\n          <Button\n            disabled={msg.length === 0}\n            style={{\n              width: \"18%\",\n              fontSize: \"15px\",\n              fontWeight: \"550\",\n              margin: \"4px 5% -13px 5%\",\n              maxWidth: \"200px\",\n            }}\n            type=\"submit\"\n          >\n            Send\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\nexport default SendMessage;\n"]},"metadata":{},"sourceType":"module"}